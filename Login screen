local LoginScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local TitleBar = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local VersionLabel = Instance.new("TextLabel")
local ContentFrame = Instance.new("Frame")
local ProfileIcon = Instance.new("ImageLabel")
local WelcomeTextLabel = Instance.new("TextLabel")
local UsernameTextBox = Instance.new("TextBox")
local PasswordTextBox = Instance.new("TextBox")
local LoginButton = Instance.new("TextButton")

-- Color constants for black and yellow theme
local BLACK_PRIMARY = Color3.fromRGB(20, 20, 20)
local BLACK_SECONDARY = Color3.fromRGB(35, 35, 35)
local BLACK_TERTIARY = Color3.fromRGB(50, 50, 50)
local YELLOW_PRIMARY = Color3.fromRGB(255, 215, 0) -- Gold
local YELLOW_ACCENT = Color3.fromRGB(255, 225, 50) -- Lighter yellow
local TEXT_WHITE = Color3.fromRGB(255, 255, 255)

LoginScreenGui.Name = "LoginScreenGui"
LoginScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
LoginScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
LoginScreenGui.ResetOnSpawn = false

MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Parent = LoginScreenGui
MainFrame.BackgroundColor3 = BLACK_PRIMARY -- Black base
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0) -- Center position for animation
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5) -- Center anchor point
MainFrame.Size = UDim2.new(0, 0, 0, 0) -- Start with zero size for animation
MainFrame.ClipsDescendants = true

-- Increase corner radius for more rounded appearance
local MainFrameCorner = Instance.new("UICorner")
MainFrameCorner.CornerRadius = UDim.new(0, 24) -- Rounded corners
MainFrameCorner.Parent = MainFrame

-- First create a design solution - use a small inset frame with no corners for content
local InnerFrame = Instance.new("Frame")
InnerFrame.Name = "InnerFrame"
InnerFrame.Parent = MainFrame
InnerFrame.BackgroundColor3 = BLACK_PRIMARY
InnerFrame.BorderSizePixel = 0
InnerFrame.Position = UDim2.new(0, 2, 0, 2) -- Inset by 2 pixels
InnerFrame.Size = UDim2.new(1, -4, 1, -4) -- Smaller by 4 pixels (2px on each side)
InnerFrame.ClipsDescendants = true

-- Add corner radius to the inner frame as well
local InnerFrameCorner = Instance.new("UICorner")
InnerFrameCorner.CornerRadius = UDim.new(0, 20) -- Slightly smaller than main frame
InnerFrameCorner.Parent = InnerFrame

-- Add a yellow border/glow effect - add it to outer frame
local MainFrameStroke = Instance.new("UIStroke")
MainFrameStroke.Color = YELLOW_PRIMARY
MainFrameStroke.Thickness = 2
MainFrameStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
MainFrameStroke.Parent = MainFrame

TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Parent = InnerFrame -- Parent to inner frame
TitleBar.BackgroundColor3 = BLACK_PRIMARY -- Slightly lighter black
TitleBar.BorderSizePixel = 0
TitleBar.Size = UDim2.new(1, 0, 0, 30)
TitleBar.Position = UDim2.new(0, 0, 0, 0)

-- Add UI corner to title bar with just the top corners rounded
local TitleBarCorner = Instance.new("UICorner")
TitleBarCorner.CornerRadius = UDim.new(0, 20) -- Match inner frame corner radius
TitleBarCorner.Parent = TitleBar

TitleLabel = Instance.new("TextLabel")
TitleLabel.Name = "TitleLabel"
TitleLabel.Parent = TitleBar
TitleLabel.BackgroundTransparency = 1
TitleLabel.Position = UDim2.new(0, 8, 0, 0)
TitleLabel.Size = UDim2.new(0, 78, 1, 0)
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.Text = "Beeware"
TitleLabel.TextColor3 = YELLOW_PRIMARY -- Yellow text
TitleLabel.TextSize = 16
TitleLabel.ZIndex = 3 -- Ensure text is on top

VersionLabel = Instance.new("TextLabel")
VersionLabel.Name = "VersionLabel"
VersionLabel.Parent = TitleBar
VersionLabel.BackgroundTransparency = 1
VersionLabel.Position = UDim2.new(1, -30, 0, 0)
VersionLabel.Size = UDim2.new(0, 25, 1, 0)
VersionLabel.Font = Enum.Font.SourceSans
VersionLabel.Text = "V1"
VersionLabel.TextColor3 = YELLOW_ACCENT -- Light yellow
VersionLabel.TextSize = 12
VersionLabel.ZIndex = 3 -- Ensure text is on top

ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Parent = InnerFrame -- Change parent to InnerFrame
ContentFrame.BackgroundColor3 = BLACK_PRIMARY -- Match main frame
ContentFrame.BorderSizePixel = 0
ContentFrame.Position = UDim2.new(0, 0, 0, 31) -- Start just below separator
ContentFrame.Size = UDim2.new(1, 0, 1, -31) -- Adjusted for separator

-- Add UICorner to content frame for bottom rounded corners
local ContentFrameCorner = Instance.new("UICorner")
ContentFrameCorner.CornerRadius = UDim.new(0, 20) -- Match inner frame
ContentFrameCorner.Parent = ContentFrame

-- Add bee profile icon
ProfileIcon = Instance.new("ImageLabel")
ProfileIcon.Name = "ProfileIcon"
ProfileIcon.Parent = ContentFrame
ProfileIcon.BackgroundTransparency = 1
ProfileIcon.Position = UDim2.new(0.5, 0, 0.15, 0)
ProfileIcon.Size = UDim2.new(0, 70, 0, 70)
ProfileIcon.Image = "rbxassetid://121753969359085" -- Generic user icon (replace with bee icon ID)
ProfileIcon.ImageColor3 = YELLOW_PRIMARY -- Tint it yellow
ProfileIcon.AnchorPoint = Vector2.new(0.5, 0.5)

-- Create a circular mask for the profile icon
local ProfileIconCorner = Instance.new("UICorner")
ProfileIconCorner.CornerRadius = UDim.new(1, 0) -- Makes it perfectly circular
ProfileIconCorner.Parent = ProfileIcon

WelcomeTextLabel = Instance.new("TextLabel")
WelcomeTextLabel.Name = "WelcomeTextLabel"
WelcomeTextLabel.Parent = ContentFrame
WelcomeTextLabel.BackgroundTransparency = 1
WelcomeTextLabel.Position = UDim2.new(0.5, 0, 0.3, 0)
WelcomeTextLabel.Size = UDim2.new(0, 240, 0, 30)
WelcomeTextLabel.Font = Enum.Font.SourceSansBold
WelcomeTextLabel.Text = "Welcome"
WelcomeTextLabel.TextColor3 = YELLOW_PRIMARY -- Yellow text
WelcomeTextLabel.TextSize = 22
WelcomeTextLabel.AnchorPoint = Vector2.new(0.5, 0.5)

UsernameTextBox = Instance.new("TextBox")
UsernameTextBox.Name = "UsernameTextBox"
UsernameTextBox.Parent = ContentFrame
UsernameTextBox.BackgroundColor3 = BLACK_TERTIARY
UsernameTextBox.Position = UDim2.new(0.5, 0, 0.45, 0)
UsernameTextBox.Size = UDim2.new(0, 250, 0, 40)
UsernameTextBox.Font = Enum.Font.SourceSans
UsernameTextBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
UsernameTextBox.PlaceholderText = "Username.."
UsernameTextBox.Text = ""
UsernameTextBox.TextColor3 = TEXT_WHITE
UsernameTextBox.TextSize = 16
UsernameTextBox.AnchorPoint = Vector2.new(0.5, 0.5)

-- Increase corner radius for more rounded appearance
local UsernameBoxCorner = Instance.new("UICorner")
UsernameBoxCorner.CornerRadius = UDim.new(0, 18) -- Increased from 12 to 18
UsernameBoxCorner.Parent = UsernameTextBox

-- Add a yellow glow when focused
local UsernameBoxStroke = Instance.new("UIStroke")
UsernameBoxStroke.Color = BLACK_TERTIARY
UsernameBoxStroke.Thickness = 1
UsernameBoxStroke.Parent = UsernameTextBox

PasswordTextBox = Instance.new("TextBox")
PasswordTextBox.Name = "PasswordTextBox"
PasswordTextBox.Parent = ContentFrame
PasswordTextBox.BackgroundColor3 = BLACK_TERTIARY
PasswordTextBox.Position = UDim2.new(0.5, 0, 0.6, 0)
PasswordTextBox.Size = UDim2.new(0, 250, 0, 40)
PasswordTextBox.Font = Enum.Font.SourceSans
PasswordTextBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
PasswordTextBox.PlaceholderText = "Password.."
PasswordTextBox.Text = ""
PasswordTextBox.TextColor3 = TEXT_WHITE
PasswordTextBox.TextSize = 16
PasswordTextBox.AnchorPoint = Vector2.new(0.5, 0.5)

-- Increase corner radius for more rounded appearance
local PasswordBoxCorner = Instance.new("UICorner")
PasswordBoxCorner.CornerRadius = UDim.new(0, 18) -- Increased from 12 to 18
PasswordBoxCorner.Parent = PasswordTextBox

-- Add a yellow glow when focused
local PasswordBoxStroke = Instance.new("UIStroke")
PasswordBoxStroke.Color = BLACK_TERTIARY
PasswordBoxStroke.Thickness = 1
PasswordBoxStroke.Parent = PasswordTextBox

LoginButton = Instance.new("TextButton")
LoginButton.Name = "LoginButton"
LoginButton.Parent = ContentFrame
LoginButton.BackgroundColor3 = YELLOW_PRIMARY
LoginButton.Position = UDim2.new(0.5, 0, 0.78, 0)
LoginButton.Size = UDim2.new(0, 180, 0, 45)
LoginButton.Font = Enum.Font.SourceSansBold
LoginButton.Text = "Login"
LoginButton.TextColor3 = BLACK_PRIMARY -- Black text on yellow button
LoginButton.TextSize = 18
LoginButton.AnchorPoint = Vector2.new(0.5, 0.5)

-- Increase corner radius for more rounded appearance
local LoginButtonCorner = Instance.new("UICorner")
LoginButtonCorner.CornerRadius = UDim.new(0, 20) -- Increased from 12 to 20
LoginButtonCorner.Parent = LoginButton

-- Enhanced text box focus effects
UsernameTextBox.Focused:Connect(function()
    game:GetService("TweenService"):Create(UsernameBoxStroke, TweenInfo.new(0.2), 
        {Color = YELLOW_PRIMARY, Thickness = 2}):Play()
end)

UsernameTextBox.FocusLost:Connect(function()
    game:GetService("TweenService"):Create(UsernameBoxStroke, TweenInfo.new(0.2), 
        {Color = BLACK_TERTIARY, Thickness = 1}):Play()
end)

PasswordTextBox.Focused:Connect(function()
    game:GetService("TweenService"):Create(PasswordBoxStroke, TweenInfo.new(0.2), 
        {Color = YELLOW_PRIMARY, Thickness = 2}):Play()
end)

PasswordTextBox.FocusLost:Connect(function()
    game:GetService("TweenService"):Create(PasswordBoxStroke, TweenInfo.new(0.2), 
        {Color = BLACK_TERTIARY, Thickness = 1}):Play()
end)

-- Create button hover/click effects
LoginButton.MouseEnter:Connect(function()
    game:GetService("TweenService"):Create(LoginButton, TweenInfo.new(0.2), 
        {BackgroundColor3 = YELLOW_ACCENT}):Play()
end)

LoginButton.MouseLeave:Connect(function()
    game:GetService("TweenService"):Create(LoginButton, TweenInfo.new(0.2), 
        {BackgroundColor3 = YELLOW_PRIMARY}):Play()
end)

LoginButton.MouseButton1Down:Connect(function()
    game:GetService("TweenService"):Create(LoginButton, TweenInfo.new(0.1), 
        {Size = UDim2.new(0, 175, 0, 42)}):Play()
end)

LoginButton.MouseButton1Up:Connect(function()
    game:GetService("TweenService"):Create(LoginButton, TweenInfo.new(0.1), 
        {Size = UDim2.new(0, 180, 0, 45)}):Play()
end)

-- Add close functionality (Escape key)
game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Escape then
        -- Zoom out animation - make sure to animate both frames
        local ZoomOutTween = game:GetService("TweenService"):Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), 
            {Size = UDim2.new(0, 0, 0, 0)})
        
        local InnerFrameOutTween = game:GetService("TweenService"):Create(InnerFrame, TweenInfo.new(0.25, Enum.EasingStyle.Back, Enum.EasingDirection.In), 
            {Size = UDim2.new(0, 0, 0, 0)})
        
        InnerFrameOutTween:Play()
        
        ZoomOutTween.Completed:Connect(function()
            LoginScreenGui:Destroy()
        end)
        
        ZoomOutTween:Play()
    end
end)

local function animateOpen()
    -- Set smaller dimensions
    local finalWidth = 400  -- Reduced from 650
    local finalHeight = 320 -- Reduced from 400
    
    game:GetService("TweenService"):Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), 
        {Size = UDim2.new(0, finalWidth, 0, finalHeight)}):Play()
    
    -- Also resize inner frame with a slight delay
    wait(0.05)
    InnerFrame.Size = UDim2.new(1, -4, 1, -4)
end

animateOpen()

-- Add subtle pulse animation to the profile icon
local function pulseProfileIcon()
    while true do
        game:GetService("TweenService"):Create(ProfileIcon, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), 
            {ImageTransparency = 0.1}):Play()
        wait(1.5)
        game:GetService("TweenService"):Create(ProfileIcon, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), 
            {ImageTransparency = 0}):Play()
        wait(1.5)
    end
end

spawn(pulseProfileIcon)

local HttpService = game:GetService("HttpService")
local RbxAnalyticsService = game:GetService("RbxAnalyticsService")
-- REPLACE GITHUB LINK BELOW WITH THE ONE U MADE FROM INSTRUCTIONS
local LOGIN_URL = "https://raw.githubusercontent.com/thraxxyz/Login/refs/heads/main/Logs"

local clientId = RbxAnalyticsService:GetClientId()

local function validateLogin(username, password, clientId)
    local success, response = pcall(function()
        return game:HttpGet(LOGIN_URL)
    end)

    if not success then
        return false, "Error."
    end

    local accounts = response:split("\n")
    for _, account in ipairs(accounts) do
        local accountData = account:split(":")
        if #accountData == 3 then
            local storedUsername, storedPassword, storedClientId = accountData[1], accountData[2], accountData[3]
            if storedUsername == username and storedPassword == password and storedClientId == clientId then
                return true
            end
        end
    end
    return false, "Invalid"
end

LoginButton.MouseButton1Click:Connect(function()
    local username = UsernameTextBox.Text
    local password = PasswordTextBox.Text

    if username == "" or password == "" then
        return
    end

    local isValid, message = validateLogin(username, password, clientId)
    if isValid then
       loadstring(game:HttpGet("https://raw.githubusercontent.com/thraxxyz/Login/refs/heads/main/Beesploit"))() 
        print("Yes")
        WelcomeTextLabel.Text = "Welcome " .. username
        
        -- Animate both frames during closeout
        local InnerFrameOutTween = game:GetService("TweenService"):Create(InnerFrame, TweenInfo.new(0.25, Enum.EasingStyle.Back, Enum.EasingDirection.In), 
            {Size = UDim2.new(0, 0, 0, 0)})
            
        local ZoomOutTween = game:GetService("TweenService"):Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), 
            {Size = UDim2.new(0, 0, 0, 0)})
        
        InnerFrameOutTween:Play()
        
        ZoomOutTween.Completed:Connect(function()
            MainFrame.Visible = false
        end)
        
        ZoomOutTween:Play()
    else
        local player = game.Players.LocalPlayer

        local function kickPlayer()
            player:Kick("Buy Beeware first nga")
        end

        -- Execute the kick
        kickPlayer()
        print("no")
        UsernameTextBox.Text = ""
        PasswordTextBox.Text = ""
    end
end)
